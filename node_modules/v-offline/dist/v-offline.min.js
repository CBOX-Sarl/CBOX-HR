!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).VOffline=n()}(this,(function(){"use strict";var e=function(e,n,t){return e(t={path:n,exports:{},require:function(e,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&t.path)}},t.exports),t.exports}((function(e,n){var t=function(e){this.opt=e||{},this.favicon=this.opt.favicon||"/favicon.ico",this.timeout=this.opt.timeout||0,this.logError=this.opt.logError||!1};t.prototype.ping=function(e,n){var t,o=this;o.wasSuccess=!1,o.img=new Image,o.img.onload=function(e){o.wasSuccess=!0,r.call(o,e)},o.img.onerror=function(e){o.wasSuccess=!1,r.call(o,e)};var i=new Date;function r(){t&&clearTimeout(t);var e=new Date-i;if("function"==typeof n)return this.wasSuccess?n(null,e):(o.logError&&console.error("error loading resource"),n("error",e))}o.timeout&&(t=setTimeout((function(){r.call(o,void 0)}),o.timeout)),o.img.src=e+o.favicon+"?"+ +new Date},e.exports&&(e.exports=t)})),n=["online","offline","load"];function t(e,n,t,o,i,r,s,u,a,c){"boolean"!=typeof s&&(a=u,u=s,s=!1);const l="function"==typeof t?t.options:t;let f;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),o&&(l._scopeId=o),r?(f=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,a(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=f):n&&(f=s?function(e){n.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,u(e))}),f)if(l.functional){const e=l.render;l.render=function(n,t){return f.call(t),e(n,t)}}else{const e=l.beforeCreate;l.beforeCreate=e?[].concat(e,f):[f]}return t}const o={name:"VOffline",props:{slotName:{type:String,required:!1,default:"online"},onlineClass:{type:String,required:!1,default:""},offlineClass:{type:String,required:!1,default:""},pingUrl:{type:String,required:!1,default:"https://google.com"}},data:function(){return{isOnline:navigator.onLine||!1}},computed:{computedClass:function(){return this.isOnline?this.onlineClass:this.offlineClass}},created:function(){var e=this;n.forEach((function(n){return window.addEventListener(n,e.updateOnlineStatus)}))},beforeDestroy:function(){var e=this;n.forEach((function(n){return window.removeEventListener(n,e.updateOnlineStatus)}))},methods:{updateOnlineStatus:function(){var n=this;(new e).ping(n.pingUrl,(function(e){e||!navigator.onLine?(n.isOnline=!1,n.$emit("detected-condition",n.isOnline)):(n.isOnline=!0,n.$emit("detected-condition",n.isOnline))}))}}};var i=function(){var e=this,n=e.$createElement;return(e._self._c||n)("div",{class:e.computedClass},[e._t(e.slotName)],2)};i._withStripped=!0;return t({render:i,staticRenderFns:[]},undefined,o,undefined,false,undefined,!1,void 0,void 0,void 0)}));
