/*!
* popper-vue v0.1.8
* (c) 2020 Jonathan Bakebwa Mugaju
* @license MIT
*/
import e from"popper.js";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(Object(o),!0).forEach((function(n){t(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i=o?window.HTMLElement:Object;function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var p={name:"ClickOutside",props:{whitelist:Array,do:Function,isDisabled:Boolean},created:function(){var e=this;if(!this.isDisabled){var t=function(t,n){var r=e.whitelist.reduce((function(e,n){return n&&n.contains(t.target)}),!1);t.target===n||n.contains(t.target)||e.whitelist.includes(t.target)||r||e.do&&e.do()};o&&document.addEventListener("click",(function(n){return t(n,e.$el)})),this.$once("hook:beforeDestroy",(function(){document.removeEventListener("click",(function(n){return t(n,e.$el)}))}))}},render:function(){return this.$slots.default[0]}},a={name:"PopperArrow",render:function(e){return e("div",{style:{background:"inherit"},attrs:{"x-arrow":!0,role:"presentation"}})}},l={name:"Popper",props:{isOpen:Boolean,placement:{type:String,default:"bottom"},usePortal:{type:Boolean,default:!1},onClose:{type:Function,default:function(){return null}},closeOnClickAway:{type:Boolean,default:!0},modifiers:{type:Object,default:function(){}},anchorEl:[i,Object],eventsEnabled:{type:Boolean,default:!0},positionFixed:Boolean,hasArrow:{type:Boolean,default:!0},usePortalTarget:String},data:function(){return{popper:null}},computed:{portalTarget:function(){return this.usePortalTarget||"#popper-vue-portal-".concat(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(4))},reference:function(){return this.usePortal?o&&document.querySelector(this.portalTarget).firstChild:this.getNode(this.$el.firstChild)}},watch:{placement:function(e){this.popper&&(this.popper.options.placement=e,this.popper.scheduleUpdate())},isOpen:function(e){e?this.handlerPopperOpen():this.handlePopperClose()}},methods:{handlerPopperOpen:function(){this.usePortal&&this.$refs.portalRef&&this.$refs.portalRef.mountTarget(),this.anchorEl&&this.reference&&(this.popper=new e(this.anchorEl,this.reference,{placement:this.placement,modifiers:r({},this.usePortal&&{preventOverflow:{boundariesElement:"window"}},{},this.modifiers),onUpdate:s(this.handlePopperUpdate),onCreate:s(this.handlePopperCreated),eventsEnabled:this.eventsEnabled,positionFixed:this.positionFixed}),this.popper.scheduleUpdate())},handlePopperClose:function(){this.popper&&(this.popper.destroy(),this.popper=null,this.$emit("popper:close",{}))},getNode:function(e){var t;return!!(t=e)&&!!t.$el?e.$el:e},wrapClose:function(){this.popper&&(this.onClose&&this.onClose(),this.$emit("popper:close",{}))},handlePopperUpdate:function(e){this.$emit("popper:update",e)},handlePopperCreated:function(e){this.$emit("popper:create",e)},bindArrowClass:function(e){return e[0].data.staticClass?e[0].data.staticClass+=" popper-vue":e[0].data.staticClass="popper-vue",e}},render:function(e){var t=this.$slots.default;return t.length>1?console.error("[PopperVue]: The <Popper> component expects only one child element at it's root. You passed ".concat(t.length," child nodes.")):(this.hasArrow&&this.isOpen&&(t[0].children.push(e(a)),this.bindArrowClass(t,e)),e("div",{style:{display:this.isOpen?"unset":"none"}},[e(p,{props:{whitelist:[this.anchorEl],active:this.closeOnClickAway,do:this.wrapClose}},t)]))}};export{l as Popper,a as PopperArrow};
